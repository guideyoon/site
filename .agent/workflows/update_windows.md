---
description: 윈도우 서버 PC에서 프로그램을 업데이트하고 재시작하는 절차를 설명합니다.
---

# 윈도우 서버 업데이트 가이드

개발용 PC에서 수정한 코드를 서버 PC에 반영하고 서비스를 재시작하는 표준 절차입니다. 

## 1. 코드 수정 및 서버 반영 (개발 PC)
로컬(개발용) PC에서 작업을 마친 후 GitHub로 코드를 올립니다.

1. **코드 저장 및 커밋**
   ```powershell
   git add .
   git commit -m "수정 내용 설명 (예: 로그인 기능 수정)"
   git push origin main
   ```

## 2. 서버 PC에서 코드 가져오기 (서버 PC)
서버 PC의 터미널(또는 VS Code 터미널)에서 최신 코드를 내려받습니다.

1. **기존 작업 폴더로 이동**
2. **Git Pull 실행**
   ```powershell
   git pull origin main
   ```

## 3. 서비스 재시작 (서버 PC)
코드가 바뀌었으므로 실행 중인 `start_all.bat` 창들을 닫고 새로 실행해야 합니다.

1. **기존 실행 창 종료**: 현재 띄워져 있는 `NaverCafe Backend`, `NaverCafe Frontend` 커맨드 창을 끄거나, 창에서 `Ctrl + C`를 눌러 종료합니다.
2. **Docker 인프라 체크 (선택사항)**: 데이터베이스나 레디스 설정이 바뀌지 않았다면 도커는 그대로 두어도 되지만, 확실하게 하려면 아래 명령어를 실행하세요.
   ```powershell
   docker-compose -f infra/docker-compose.yml restart
   ```
3. **통합 실행기 재시작**: `start_all.bat` 파일을 다시 실행합니다.
   - 이 파일은 최신 프론트엔드/백엔드 코드를 자동으로 빌드하고 3000번 포트로 서비스를 다시 시작합니다.

## 4. 확인 및 팁
- **강력 새로고침**: UI 수정한 내용이 안 보인다면 브라우저에서 `Ctrl + Shift + R`을 눌러주세요.
- **포트 확인**: 만약 포트 충돌 에러가 난다면, `taskkill` 명령어를 쓰거나 서버 PC를 재부팅하는 것이 가장 깔끔합니다.
- **배포 자동화**: 나중에 규모가 커지면 Git Webhook 등을 통해 이 과정을 자동화할 수 있습니다.
