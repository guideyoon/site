---
description: 윈도우 서버 PC에서 프로그램을 업데이트하고 재시작하는 절차를 설명합니다.
---

# 윈도우 서버 업데이트 가이드

개발용 PC에서 수정한 코드를 서버 PC에 반영하고 서비스를 재시작하는 표준 절차입니다. 

## 1. 코드 수정 및 서버 반영 (개발 PC)
로컬(개발용) PC에서 작업을 마친 후 GitHub로 코드를 올립니다.

1. **코드 저장 및 커밋**
   ```powershell
   git add .
   git commit -m "수정 내용 설명 (예: 로그인 기능 수정)"
   git push origin main
   ```

## 2. 서버 PC에서 코드 가져오기 (서버 PC)
서버 PC의 터미널(또는 VS Code 터미널)에서 최신 코드를 내려받습니다.

1. **기존 작업 폴더로 이동**
2. **Git Pull 실행**
   ```powershell
   git pull origin main
   ```

## 3. 서비스 재시작 (서버 PC)

프로그램이 구동되는 방식에 따라 아래 중 하나를 선택하세요.

### A. 통합 실행기(start_all.bat)를 사용하는 경우 (개발/테스트용)
1. **기존 실행 창 종료**: 커맨드 창을 끄거나 `Ctrl + C`로 종료합니다.
2. **통합 실행기 재시작**: `start_all.bat` 파일을 다시 실행합니다.

### B. Docker를 사용하는 경우 (실제 서비스/서버용)
서버 PC에서 Docker로 전체 서비스를 운영 중이라면 아래 명령어를 사용하세요.

1. **인프라 폴더로 이동**
   ```powershell
   cd infra
   ```
2. **서비스 재빌드 및 재시작** (변경된 코드를 이미지에 반영합니다)
   ```powershell
   docker-compose up -d --build
   ```
   > [!NOTE]
   > `--build` 옵션을 넣어야 수정한 최신 코드가 Docker 이미지에 다시 구워집니다.

3. **(필요 시) 불필요한 이미지 정리**
   ```powershell
   docker image prune -f
   ```

## 4. 확인 및 팁
- **포트 확인**: 서버 모드(Docker)에서는 프론트 3000번, 백엔드 8000번을 사용합니다.
- **강력 새로고침**: UI 수정한 내용이 안 보인다면 브라우저에서 `Ctrl + Shift + R`을 눌러주세요.
